ifeq ($(DEPS_DONE),)
DEPS_DONE := 1


# /***********************************************************************
# // gcc automated dependencies
# ************************************************************************/

ifeq ($(DEPMODE),gcc)

EXTRA_CFLAGS   += -Wp,-MMD,.deps/$(*F).pp
EXTRA_CXXFLAGS += -Wp,-MMD,.deps/$(*F).pp

ifeq ($(strip $(wildcard .deps)),)
  DEPS_MAGIC := $(shell mkdir .deps > /dev/null 2>&1 || :)
else
  DEP_FILES := $(wildcard .deps/*.pp)
  ifneq ($(strip $(DEP_FILES)),)
    include $(DEP_FILES)
  endif
endif

endif


# /***********************************************************************
# // Intel C automated dependencies
# ************************************************************************/

ifeq ($(DEPMODE),intelc_linux)

EXTRA_CFLAGS   += -MMD -MF.deps/$(*F).pp
EXTRA_CXXFLAGS += -MMD -MF.deps/$(*F).pp

ifeq ($(strip $(wildcard .deps)),)
  DEPS_MAGIC := $(shell mkdir .deps > /dev/null 2>&1 || :)
else
  DEP_FILES := $(wildcard .deps/*.pp)
  ifneq ($(strip $(DEP_FILES)),)
    include $(DEP_FILES)
  endif
endif

endif


endif # DEPS_DONE

